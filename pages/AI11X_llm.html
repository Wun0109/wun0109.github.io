<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gemma3 LLM Ã— å¤šæ¨¡æ…‹æ‡‰ç”¨å±•ç¤º</title>
  <link href="../style.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.1/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f5f7fa;
      font-family: 'Noto Sans TC', sans-serif;
    }

    .title-bar {
      background: linear-gradient(90deg, #3b5773 0%, #4e6c8f 100%);
      color: white;
      text-align: center;
      padding: 1.5rem 1rem 1rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .title-bar h1 {
      font-size: 2.2rem;
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    .content-section {
      max-width: 880px;
      margin: 0 auto;
      padding: 0 1rem 2rem;
    }

    .section-heading {
      font-size: 1.25rem;
      margin-top: 2.5rem;
      font-weight: bold;
      color: #3b5773;
      border-bottom: 2px solid #3b5773;
      padding-bottom: 0.4rem;
    }

    .image-box {
      text-align: center;
      margin: 1.5rem auto;
    }

    .image-box img {
      max-width: 100%;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 0.5rem;
    }

    figcaption {
      font-size: 0.9rem;
      color: #555;
      margin-top: 0.25rem;
    }

    .info-group {
      text-align: left;
      max-width: 800px;
      margin: 1rem auto;
      padding-left: 0;
    }

    .info-group p {
      margin: 0.2rem 0;
    }

    .code-container {
      margin: 2rem 0;
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1rem;
      border: 1px solid #ccc;
      position: relative;
      text-align: left;
    }

    .code-container details summary {
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 0.5rem;
      color: #3b5773;
    }

    .code-container pre {
      background: #f1f1f1;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 0;
      white-space: pre-wrap;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #3b5773;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.3rem 0.7rem;
      font-size: 0.85rem;
      cursor: pointer;
    }

    .copy-btn:active {
      background-color: #2c3e50;
    }

    .back-btn {
      margin-top: 2rem;
      display: inline-block;
      background-color: #3b5773;
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    .back-btn:hover {
      background-color: #2c3e50;
    }
  </style>
</head>
<body>
  <div class="title-bar">
    <h1>Gemma3 LLM Ã— å¤šæ¨¡æ…‹æ‡‰ç”¨å±•ç¤º</h1>
  </div>
  <section class="welcome-section">
    <div class="info-group">
      <p>ğŸ“Œ <strong>æŠ€è¡“å·¥å…·ï¼š</strong>Streamlitã€Ollama LLMã€gTTSã€Teachable Machineã€å¤šæ¨¡æ…‹è¨Šæ¯çµ„åˆ</p>
      <p>ğŸ¯ <strong>æ‡‰ç”¨æƒ…å¢ƒï¼š</strong>ç´”æ–‡å­—å•ç­”ã€æ–‡å­—èªéŸ³åˆæˆï¼ˆTTSï¼‰ã€åœ–ç‰‡åˆ†æã€å¤šæ¨¡æ…‹äº’å‹•åŠ©ç†</p>
    </div>
    
    <h2 class="section-heading">åŠŸèƒ½ç°¡ä»‹</h2>
    <div class="info-group">
      <p>
        æœ¬å°ˆæ¡ˆæ•´åˆäº† <strong>Gemma3 ç³»åˆ—å¤§å‹èªè¨€æ¨¡å‹ï¼ˆLLMï¼‰</strong>ï¼Œæ­é… <strong>Streamlit</strong> æ‡‰ç”¨æ¡†æ¶ï¼Œé–‹ç™¼ä¸‰é …ä»£è¡¨æ€§åŠŸèƒ½ï¼Œå±•ç¤ºè‡ªç„¶èªè¨€è™•ç†èˆ‡å¤šæ¨¡æ…‹æŠ€è¡“çš„æ•´åˆæ½›åŠ›ã€‚
      </p>
      <br>
      <p>
        ç¬¬ä¸€æ”¯ç¨‹å¼ <strong>AI11_llm1</strong> å¯¦ä½œäº† <strong>ç´”æ–‡å­—äº’å‹•å•ç­”</strong>ã€‚ä½¿ç”¨è€…å¯è¼¸å…¥ä»»æ„å•é¡Œï¼Œç”± Gemma3 æ¨¡å‹å³æ™‚å›è¦†ï¼Œä¸¦ä»¥éš¨æ©Ÿè‰²å½©æ¨™ç¤ºæç¤ºï¼Œæé«˜è¦–è¦ºè¾¨è­˜åº¦èˆ‡äº’å‹•æ„Ÿã€‚
      </p>
      <br>
      <p>
        ç¬¬äºŒæ”¯ç¨‹å¼ <strong>AI11_llm2</strong> çµåˆ <strong>gTTSï¼ˆGoogle Text-to-Speechï¼‰</strong> å¥—ä»¶ï¼Œå¯¦ç¾ <strong>èªéŸ³åˆæˆ</strong>ã€‚ä¸åƒ…é¡¯ç¤ºæ¨¡å‹å›è¦†æ–‡å­—ï¼Œé‚„èƒ½å³æ™‚è½‰ç‚ºèªéŸ³æ’­æ”¾ï¼Œé©ç”¨æ–¼èªéŸ³åŠ©ç†ã€è¼”åŠ©é–±è®€æˆ–å¤šèªå›è¦†å ´æ™¯ã€‚
      </p>
      <br>
      <p>
        ç¬¬ä¸‰æ”¯ç¨‹å¼ <strong>AI11_llm3</strong> åŠ å…¥ <strong>åœ–ç‰‡ä¸Šå‚³èˆ‡åœ–æ–‡åˆ†æ</strong> åŠŸèƒ½ã€‚ä½¿ç”¨è€…å¯åŒæ™‚è¼¸å…¥æŒ‡ä»¤èˆ‡ä¸Šå‚³åœ–ç‰‡ï¼Œç”± <strong>Gemma3 å¤šæ¨¡æ…‹æ¨¡å‹</strong>æ•´åˆè¦–è¦ºèˆ‡èªè¨€è¨Šæ¯ï¼Œæä¾›æ›´æº–ç¢ºèˆ‡ä¸Šä¸‹æ–‡é—œè¯çš„å›è¦†ã€‚æ­¤åŠŸèƒ½é©ç”¨æ–¼æ•™è‚²è¨“ç·´ã€å•†å“è¾¨è­˜èˆ‡åœ–åƒè¼”åŠ©ç†è§£ç­‰æƒ…å¢ƒã€‚
      </p>
      <br>
      <p>
        æ•´é«”è€Œè¨€ï¼Œé€éç°¡æ½”ä»‹é¢èˆ‡æ¨¡çµ„è¨­è¨ˆï¼Œä½¿ç”¨è€…å¾—ä»¥å¿«é€Ÿé«”é©— <strong>ç”Ÿæˆå¼ AI Ã— å¤šæ¨¡æ…‹è¼¸å…¥</strong> çš„äº’å‹•æ½›åŠ›ï¼Œå…·å‚™é«˜åº¦å»¶ä¼¸æ€§èˆ‡æ‡‰ç”¨åƒ¹å€¼ã€‚
      </p>
    </div>


    <h2 class="section-heading">ğŸ“¸ ä½¿ç”¨ç•«é¢å±•ç¤º</h2>
    <div class="image-box">
      <img src="../images/W5P5.jpg" alt="ç´”æ–‡å­— LLM å•ç­”ç•«é¢">
      <figcaption>â–² AI11_llm1ï¼šGemma3 å›ç­”ç´”æ–‡å­—å•é¡Œï¼Œä¸¦å¯æ ¹æ“šé¡è‰²æ¨£å¼é¡¯ç¤ºå›è¦†æç¤º</figcaption>
    </div>
    <div class="image-box">
      <img src="../images/W5P6.jpg" alt="æ–‡å­—è½‰èªéŸ³æ‡‰ç”¨ç•«é¢">
      <figcaption>â–² AI11_llm2ï¼šçµåˆ gTTS æ–‡å­—èªéŸ³åŠŸèƒ½ï¼Œå°‡å›æ‡‰èªéŸ³æœ—è®€</figcaption>
    </div>
    <div class="image-box">
      <img src="../images/W5P7.png" alt="ä¸Šå‚³åœ–ç‰‡å¾Œ LLM åˆ¤è®€å…§å®¹">
      <figcaption>â–² AI11_llm3ï¼šä¸Šå‚³åœ–ç‰‡å¾Œç”± Gemma3 å¤šæ¨¡æ…‹æ¨¡å‹é€²è¡Œåœ–æ–‡å›æ‡‰åˆ†æ</figcaption>
    </div>

    <h2 class="section-heading">ç¨‹å¼ç¢¼ç‰‡æ®µ</h2>
    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this)">è¤‡è£½</button>
      <details>
        <summary>ğŸ“„ AI11_llm1ï½œç´”æ–‡å­— Gemma3 å›ç­”æ‡‰ç”¨</summary>
        <pre><code id="code1"># streamlit run AI11_llm1.py
import streamlit as st
import ollama
import random

st.title("Gemma3 ç´”æ–‡å­— LLM æ‡‰ç”¨ç¯„ä¾‹")
colors = ['red', 'blue', 'green', 'orange', 'purple']
user_input = st.text_input("è©¢å•ä»»ä½•å•é¡Œï¼š", "")

if st.button("send") or user_input:
    st.markdown(f"<span style='color:{random.choice(colors)};'>è«‹ç¨å¾…ç‰‡åˆ»ï¼Œæ€è€ƒä¸­ï¼Œé¦¬ä¸Šå›ç­”...</span>", unsafe_allow_html=True)
    response = ollama.chat(model='gemma3:1b', messages=[{'role': 'user', 'content': user_input}])
    st.write(response['message']['content'])
else:
    st.warning("Please type in your question!")</code></pre>
      </details>
    </div>

    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this)">è¤‡è£½</button>
      <details>
        <summary>ğŸ“„ AI11_llm2ï½œGemma3 æ–‡å­—èªéŸ³ TTS æ‡‰ç”¨</summary>
        <pre><code id="code2"># streamlit run AI11_llm2.py
import streamlit as st
import ollama
from gtts.lang import tts_langs
from gtts import gTTS
import base64
from tempfile import NamedTemporaryFile

langs = tts_langs().keys()
st.title("Gemma3 æ–‡å­—èªéŸ³LLM TTSæ‡‰ç”¨ç¯„ä¾‹")
lang = st.selectbox("Please choose the language", options=langs, index=12)
user_input = st.text_area("è©¢å•ä»»ä½•å•é¡Œï¼š", "")

if st.button("send"):
    if user_input:
        st.markdown(f"<span style='color:red;'>è«‹ç¨å¾…ç‰‡åˆ»ï¼Œgemma3:4b æ€è€ƒä¸­...</span>", unsafe_allow_html=True)
        response = ollama.chat(model='gemma3:4b', messages=[{'role': 'user', 'content': user_input}])
        st.write(response['message']['content'])
        tts = gTTS(response['message']['content'], lang=lang, slow=False, lang_check=True)
        with NamedTemporaryFile(suffix=".mp3", delete=False) as temp:
            tts.save(temp.name)
            with open(temp.name, "rb") as f:
                data = f.read()
                b64 = base64.b64encode(data).decode()
                md = f"""<audio controls autoplay="true">
                     <source src="data:audio/mp3;base64,{b64}" type = "audio/mp3">
                     your browser does not support the audio element. </audio>"""
                st.markdown(md, unsafe_allow_html=True)
    else:
        st.warning("è«‹è¼¸å…¥å…§å®¹ï¼")</code></pre>
      </details>
    </div>

    <div class="code-container">
      <button class="copy-btn" onclick="copyCode(this)">è¤‡è£½</button>
      <details>
        <summary>ğŸ“„ AI11_llm3ï½œå¤šæ¨¡æ…‹åœ–ç‰‡èˆ‡æ–‡å­—äº’å‹•æ‡‰ç”¨</summary>
        <pre><code id="code3"># streamlit run AI11_llm3.py
import streamlit as st
import ollama
import random

st.title("Gemma3 å¤šæ¨¡æ…‹ LLM æ‡‰ç”¨ç¯„ä¾‹")
colors = ['red', 'blue', 'green', 'orange', 'purple']
user_input = st.text_input("è©¢å•ä»»ä½•å•é¡Œï¼š", "")
uploaded_image = st.file_uploader("å¯åŒæ™‚ä¸Šå‚³åœ–ç‰‡ï¼ˆjpg/pngï¼‰", type=["jpg", "jpeg", "png"])

if st.button("send"):
    if user_input or uploaded_image:
        st.markdown(f"<span style='color:{random.choice(colors)};'>è«‹ç¨å¾…ç‰‡åˆ»ï¼Œæ€è€ƒä¸­ï¼Œé¦¬ä¸Šå›ç­”...</span>", unsafe_allow_html=True)
        messages = []
        if uploaded_image:
            st.image(uploaded_image, caption="ä¸Šå‚³çš„åœ–ç‰‡å¦‚ä¸Šï¼Œè«‹ç­‰å¾…åˆ¤è®€çµæœ...", use_column_width=True)
            image_bytes = uploaded_image.getvalue()
            messages.append({'role': 'user', 'content': user_input, 'images': [image_bytes]})
        else:
            messages.append({'role': 'user', 'content': user_input})
        response = ollama.chat(model='gemma3:4b', messages=messages)
        st.write(response['message']['content'])
    else:
        st.warning("è«‹è¼¸å…¥ prompt æˆ–ä¸Šå‚³åœ–ç‰‡ï¼")</code></pre>
      </details>
    </div>

    <a href="../index.html#code-projects" class="back-btn">â† å›åˆ°ä½œå“é›†</a>
  </section>

  <script>
    function copyCode(button) {
      const codeBlock = button.nextElementSibling.querySelector('code');
      const text = codeBlock.innerText;
      navigator.clipboard.writeText(text).then(() => {
        button.innerText = 'âœ… å·²è¤‡è£½';
        setTimeout(() => { button.innerText = 'è¤‡è£½'; }, 1500);
      });
    }
  </script>
  
</body>
</html>
